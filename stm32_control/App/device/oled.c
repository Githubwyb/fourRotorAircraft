#include "oled.h"

//全局
uint8_t g_oledNumSupport = ON;//数字显示支持

uint16_t g_oledCounter = 0;//液晶计数

int16_t g_oledData[24] = { 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24 };//液晶显示的数据

																						  /**
																						  *    6x8字体库
																						  * */
const uint8_t F6x8[][6] =
{
	{ 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },   // space
	{ 0x00, 0x00, 0x00, 0x2f, 0x00, 0x00 },   // !
	{ 0x00, 0x00, 0x07, 0x00, 0x07, 0x00 },   // "
	{ 0x00, 0x14, 0x7f, 0x14, 0x7f, 0x14 },   // #
	{ 0x00, 0x24, 0x2a, 0x7f, 0x2a, 0x12 },   // $
	{ 0x00, 0x62, 0x64, 0x08, 0x13, 0x23 },   // %
	{ 0x00, 0x36, 0x49, 0x55, 0x22, 0x50 },   // &
	{ 0x00, 0x00, 0x05, 0x03, 0x00, 0x00 },   // '
	{ 0x00, 0x00, 0x1c, 0x22, 0x41, 0x00 },   // (
	{ 0x00, 0x00, 0x41, 0x22, 0x1c, 0x00 },   // )
	{ 0x00, 0x14, 0x08, 0x3E, 0x08, 0x14 },   // *
	{ 0x00, 0x08, 0x08, 0x3E, 0x08, 0x08 },   // +
	{ 0x00, 0x00, 0x00, 0xA0, 0x60, 0x00 },   // ,
	{ 0x00, 0x08, 0x08, 0x08, 0x08, 0x08 },   // -
	{ 0x00, 0x00, 0x60, 0x60, 0x00, 0x00 },   // .
	{ 0x00, 0x20, 0x10, 0x08, 0x04, 0x02 },   // /
	{ 0x00, 0x3E, 0x51, 0x49, 0x45, 0x3E },   // 0
	{ 0x00, 0x00, 0x42, 0x7F, 0x40, 0x00 },   // 1
	{ 0x00, 0x42, 0x61, 0x51, 0x49, 0x46 },   // 2
	{ 0x00, 0x21, 0x41, 0x45, 0x4B, 0x31 },   // 3
	{ 0x00, 0x18, 0x14, 0x12, 0x7F, 0x10 },   // 4
	{ 0x00, 0x27, 0x45, 0x45, 0x45, 0x39 },   // 5
	{ 0x00, 0x3C, 0x4A, 0x49, 0x49, 0x30 },   // 6
	{ 0x00, 0x01, 0x71, 0x09, 0x05, 0x03 },   // 7
	{ 0x00, 0x36, 0x49, 0x49, 0x49, 0x36 },   // 8
	{ 0x00, 0x06, 0x49, 0x49, 0x29, 0x1E },   // 9
	{ 0x00, 0x00, 0x36, 0x36, 0x00, 0x00 },   // :
	{ 0x00, 0x00, 0x56, 0x36, 0x00, 0x00 },   // ;
	{ 0x00, 0x08, 0x14, 0x22, 0x41, 0x00 },   // <
	{ 0x00, 0x14, 0x14, 0x14, 0x14, 0x14 },   // =
	{ 0x00, 0x00, 0x41, 0x22, 0x14, 0x08 },   // >
	{ 0x00, 0x02, 0x01, 0x51, 0x09, 0x06 },   // ?
	{ 0x00, 0x32, 0x49, 0x59, 0x51, 0x3E },   // @
	{ 0x00, 0x7C, 0x12, 0x11, 0x12, 0x7C },   // A
	{ 0x00, 0x7F, 0x49, 0x49, 0x49, 0x36 },   // B
	{ 0x00, 0x3E, 0x41, 0x41, 0x41, 0x22 },   // C
	{ 0x00, 0x7F, 0x41, 0x41, 0x22, 0x1C },   // D
	{ 0x00, 0x7F, 0x49, 0x49, 0x49, 0x41 },   // E
	{ 0x00, 0x7F, 0x09, 0x09, 0x09, 0x01 },   // F
	{ 0x00, 0x3E, 0x41, 0x49, 0x49, 0x7A },   // G
	{ 0x00, 0x7F, 0x08, 0x08, 0x08, 0x7F },   // H
	{ 0x00, 0x00, 0x41, 0x7F, 0x41, 0x00 },   // I
	{ 0x00, 0x20, 0x40, 0x41, 0x3F, 0x01 },   // J
	{ 0x00, 0x7F, 0x08, 0x14, 0x22, 0x41 },   // K
	{ 0x00, 0x7F, 0x40, 0x40, 0x40, 0x40 },   // L
	{ 0x00, 0x7F, 0x02, 0x0C, 0x02, 0x7F },   // M
	{ 0x00, 0x7F, 0x04, 0x08, 0x10, 0x7F },   // N
	{ 0x00, 0x3E, 0x41, 0x41, 0x41, 0x3E },   // O
	{ 0x00, 0x7F, 0x09, 0x09, 0x09, 0x06 },   // P
	{ 0x00, 0x3E, 0x41, 0x51, 0x21, 0x5E },   // Q
	{ 0x00, 0x7F, 0x09, 0x19, 0x29, 0x46 },   // R
	{ 0x00, 0x46, 0x49, 0x49, 0x49, 0x31 },   // S
	{ 0x00, 0x01, 0x01, 0x7F, 0x01, 0x01 },   // T
	{ 0x00, 0x3F, 0x40, 0x40, 0x40, 0x3F },   // U
	{ 0x00, 0x1F, 0x20, 0x40, 0x20, 0x1F },   // V
	{ 0x00, 0x3F, 0x40, 0x38, 0x40, 0x3F },   // W
	{ 0x00, 0x63, 0x14, 0x08, 0x14, 0x63 },   // X
	{ 0x00, 0x07, 0x08, 0x70, 0x08, 0x07 },   // Y
	{ 0x00, 0x61, 0x51, 0x49, 0x45, 0x43 },   // Z
	{ 0x00, 0x00, 0x7F, 0x41, 0x41, 0x00 },   // [
	{ 0x00, 0x02, 0x04 ,0x08, 0x10, 0x20 },   // '\'
	{ 0x00, 0x00, 0x41, 0x41, 0x7F, 0x00 },   // ]
	{ 0x00, 0x04, 0x02, 0x01, 0x02, 0x04 },   // ^
	{ 0x00, 0x40, 0x40, 0x40, 0x40, 0x40 },   // _
	{ 0x00, 0x00, 0x01, 0x02, 0x04, 0x00 },   // '
	{ 0x00, 0x20, 0x54, 0x54, 0x54, 0x78 },   // a
	{ 0x00, 0x7F, 0x48, 0x44, 0x44, 0x38 },   // b
	{ 0x00, 0x38, 0x44, 0x44, 0x44, 0x20 },   // c
	{ 0x00, 0x38, 0x44, 0x44, 0x48, 0x7F },   // d
	{ 0x00, 0x38, 0x54, 0x54, 0x54, 0x18 },   // e
	{ 0x00, 0x08, 0x7E, 0x09, 0x01, 0x02 },   // f
	{ 0x00, 0x18, 0xA4, 0xA4, 0xA4, 0x7C },   // g
	{ 0x00, 0x7F, 0x08, 0x04, 0x04, 0x78 },   // h
	{ 0x00, 0x00, 0x44, 0x7D, 0x40, 0x00 },   // i
	{ 0x00, 0x40, 0x80, 0x84, 0x7D, 0x00 },   // j
	{ 0x00, 0x7F, 0x10, 0x28, 0x44, 0x00 },   // k
	{ 0x00, 0x00, 0x41, 0x7F, 0x40, 0x00 },   // l
	{ 0x00, 0x7C, 0x04, 0x18, 0x04, 0x78 },   // m
	{ 0x00, 0x7C, 0x08, 0x04, 0x04, 0x78 },   // n
	{ 0x00, 0x38, 0x44, 0x44, 0x44, 0x38 },   // o
	{ 0x00, 0xFC, 0x24, 0x24, 0x24, 0x18 },   // p
	{ 0x00, 0x18, 0x24, 0x24, 0x18, 0xFC },   // q
	{ 0x00, 0x7C, 0x08, 0x04, 0x04, 0x08 },   // r
	{ 0x00, 0x48, 0x54, 0x54, 0x54, 0x20 },   // s
	{ 0x00, 0x04, 0x3F, 0x44, 0x40, 0x20 },   // t
	{ 0x00, 0x3C, 0x40, 0x40, 0x20, 0x7C },   // u
	{ 0x00, 0x1C, 0x20, 0x40, 0x20, 0x1C },   // v
	{ 0x00, 0x3C, 0x40, 0x30, 0x40, 0x3C },   // w
	{ 0x00, 0x44, 0x28, 0x10, 0x28, 0x44 },   // x
	{ 0x00, 0x1C, 0xA0, 0xA0, 0xA0, 0x7C },   // y
	{ 0x00, 0x44, 0x64, 0x54, 0x4C, 0x44 },   // z
	{ 0x14, 0x14, 0x14, 0x14, 0x14, 0x14 }    // horiz lines
};

// 16 x 8
const unsigned char OLED_ASCII16X8[][16] =
{
	0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,// 0
	0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,// 1
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 2
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 3
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 4
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 5
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 6
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 7
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 8
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 9
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 10
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 11
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 12
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 13
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 14
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 15
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 16
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 17
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 18
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 19
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 20
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 21
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 22
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 23
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 24
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 25
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 26
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 27
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 28
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 29
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 30
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 31
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 32

	0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00,//!33
	0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//"34
	0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00,//#35
	0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00,//$36
	0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00,//%37
	0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10,//&38
	0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//'39
	0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,//(40
	0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,//)41
	0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,//*42
	0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00,//+43
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,//,44
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,//-45
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,//.46
	0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,///47
	0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,//048
	0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//149
	0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,//250
	0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,//351
	0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,//452
	0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,//553
	0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,//654
	0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,//755
	0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,//856
	0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,//957
	0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,//:58
	0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00,//;59
	0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,//<60
	0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,//=61
	0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,//>62
	0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00,//?63
	0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x24,0x23,0x14,0x0B,0x00,//@64
	0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,//A65
	0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,//B66
	0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,//C67
	0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,//D68
	0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,//E69
	0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,//F70
	0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,//G71
	0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,//H72
	0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//I73
	0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,//J74
	0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,//K75
	0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,//L76
	0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,//M77
	0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,//N78
	0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,//O79
	0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,//P80
	0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,//Q81
	0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,//R82
	0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,//S83
	0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,//T84
	0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,//U85
	0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,//V86
	0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,//W87
	0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,//X88
	0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,//Y89
	0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,//Z90
	0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,//[91
	0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,//\92
	0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,//]93
	0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//^94
	0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,//_95
	0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//`96
	0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,//a97
	0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,//b98
	0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,//c99
	0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,//d100
	0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,//e101
	0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//f102
	0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,//g103
	0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,//h104
	0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//i105
	0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,//j106
	0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,//k107
	0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//l108
	0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,//m109
	0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,//n110
	0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,//o111
	0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,//p112
	0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,//q113
	0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,//r114
	0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,//s115
	0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,//t116
	0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,//u117
	0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,//v118
	0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,//w119
	0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,//x120
	0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,//y121
	0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,//z122
	0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,//{123
	0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,//|124
	0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,//}125
	0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//~126

};// 16 x 8


#define   OLED_NUM            4

  /**
  *  灯控制块
  */
typedef struct oled_control_block
{
	char  state;
	char  openflag;
	char  charrorflag;
}OCB;

static OCB ocb_table[OLED_NUM];

#define   INDEX_OLED(oled_no)    ((uint8_t)(oled_no))
#define   get_lgcb(oled_no)      (&(ocb_table[INDEX_OLED(oled_no)]))

#define   OLED_NO_GET(oledchar)    (oledchar & 0x0000ffff)
#define   OLED_PORT_GET(oledchar)  (PORT_NO_GET(oledchar >> 16))
#define   OLED_PIN_GET(oledchar)   (PIN_NO_GET(oledchar >> 16))

//static char oled_open_port(char oledchar);

//oled显示器更新频率
volatile static uint16_t OLED_period;

//获得液晶的显示更新频率
uint16_t MCF_OLED_GetPeriod(void)
{
	return OLED_period;
}

void MCF_OLED_Show_Int(uint8_t uc_posx, uint8_t uc_posy, int32_t num)
{
	char a[12];
	uint32_t num1;
	char* a1 = &a[10];
	a[11] = '\0';
	if(num >= 0)
	{
		num1 = (uint32_t)num;
		for (; num1 >= 10;)
		{
			*a1-- = (uint8_t)(num1 % 10 + 48);
			num1 = (uint32_t)(num1 / 10);
		}
		*a1-- = (uint8_t)(num1 + 48);
		*a1 = '+';
	}
	else
	{
		num1 = (uint32_t)(-num);
		for (; num1 >= 10;)
		{
			*a1-- = (uint8_t)(num1 % 10 + 48);
			num1 = (uint32_t)(num1 / 10);
		}
		*a1-- = (uint8_t)(num1 + 48);
		*a1 = '-';
	}
	
	MCF_OLED_6x8str(uc_posx, uc_posy, a1);
}

void MCF_OLED_Show_Uint(uint8_t uc_posx, uint8_t uc_posy, uint32_t num)
{
	char a[12];
	uint32_t num1;
	char* a1 = &a[10];
	a[11] = '\0';
	num1 = (uint32_t)num;
	for (; num1 >= 10;)
	{
		*a1-- = (uint8_t)(num1 % 10 + 48);
		num1 = (uint32_t)(num1 / 10);
	}
	*a1 = (uint8_t)(num1 + 48);
	MCF_OLED_6x8str(uc_posx, uc_posy, a1);
}

/*---------------------------------------------------------------------------------------------*
*        函数名：oled_init(void)
*        参数  ：液晶的显示频率
*        返回值：无
*        功能  ：设置液晶的显示频率
*----------------------------------------------------------------------------------------------*/
void MCF_OLED_SetPeriod(uint16_t peri)
{
	OLED_period = peri;
}

//控制液晶显示数字
void OledControl(void)
{
	uint16_t oledPeriodTemp = 0;
	//液晶显示
	oledPeriodTemp = MCF_OLED_GetPeriod();
	if (g_oledNumSupport == ON)
	{
		//oledPeriodTemp = OLED_GetPeriod();

		if (oledPeriodTemp == 0)
		{
			;//什么都不做，表示不用液晶
		}
		else
		{
			if (g_oledCounter > oledPeriodTemp)
			{
				//更新液晶显示
				MCF_OLED_short(0, 0, g_oledData[0]);//1
				MCF_OLED_short(40, 0, g_oledData[1]);
				MCF_OLED_short(81, 0, g_oledData[2]);
				MCF_OLED_short(0, 1, g_oledData[3]);
				MCF_OLED_short(40, 1, g_oledData[4]);
				MCF_OLED_short(81, 1, g_oledData[5]);//6
				MCF_OLED_short(0, 2, g_oledData[6]);
				MCF_OLED_short(40, 2, g_oledData[7]);
				MCF_OLED_short(81, 2, g_oledData[8]);
				MCF_OLED_short(0, 3, g_oledData[9]);
				MCF_OLED_short(40, 3, g_oledData[10]);//11
				MCF_OLED_short(81, 3, g_oledData[11]);
				MCF_OLED_short(0, 4, g_oledData[12]);
				MCF_OLED_short(40, 4, g_oledData[13]);
				MCF_OLED_short(81, 4, g_oledData[14]);
				MCF_OLED_short(0, 5, g_oledData[15]);//16
				MCF_OLED_short(40, 5, g_oledData[16]);
				MCF_OLED_short(81, 5, g_oledData[17]);
				MCF_OLED_short(0, 6, g_oledData[18]);
				MCF_OLED_short(40, 6, g_oledData[19]);
				MCF_OLED_short(81, 6, g_oledData[20]);//21
				MCF_OLED_short(0, 7, g_oledData[21]);
				MCF_OLED_short(40, 7, g_oledData[22]);
				MCF_OLED_short(81, 7, g_oledData[23]);

				g_oledCounter = 0;
			}//if

		}//else

	}//if
}

/**
*    @brief   oled_pin_init
*/
void oled_pin_init(void)
{
	uint8_t i;
    GPIO_InitTypeDef GPIO_InitStructure;
	OCB *p_lgcb;

	for (p_lgcb = ocb_table, i = 0; i < OLED_NUM; p_lgcb++, i++)
	{
		p_lgcb->openflag = false;
		p_lgcb->charrorflag = E_SYS;
	}

    RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOE, ENABLE);

    GPIO_InitStructure.GPIO_Pin = GPIO_Pin_12 | GPIO_Pin_13 | GPIO_Pin_14 | GPIO_Pin_15;
    GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
    GPIO_InitStructure.GPIO_Speed = GPIO_Speed_100MHz;
    GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
    GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_UP;

    GPIO_Init(GPIOE, &GPIO_InitStructure);

	GPIO_ResetBits(OLED_SCLK_PORT, OLED_SCLK_PIN);
	GPIO_ResetBits(OLED_SDIN_PORT, OLED_SDIN_PIN);
	GPIO_ResetBits(OLED_DC_PORT, OLED_DC_PIN);
	GPIO_ResetBits(OLED_RST_PORT, OLED_RST_PIN);
}

/**
*    @brief   写一个字节数据
*
*    @param   uint8_t uc_data
*/
void oled_write_data(uint8_t uc_data)
{
	uint8_t i = 8;
	GPIO_SetBits(OLED_DC_PORT, OLED_DC_PIN);
	GPIO_ResetBits(OLED_SCLK_PORT, OLED_SCLK_PIN);

	while (i--)
	{
		if (uc_data & 0x80)
		{
			//GPIO_set(OLED_PORT_GET(OLED_SDIN),OLED_PIN_GET(OLED_SDIN),1);
			GPIO_SetBits(OLED_SDIN_PORT, OLED_SDIN_PIN);
		}
		else
		{
			//GPIO_set(OLED_PORT_GET(OLED_SDIN),OLED_PIN_GET(OLED_SDIN),0);
			GPIO_ResetBits(OLED_SDIN_PORT, OLED_SDIN_PIN);
		}
		/* 普通I/O口模拟时钟信号 */
		//GPIO_set(OLED_PORT_GET(OLED_SCLK),OLED_PIN_GET(OLED_SCLK),1);
		GPIO_SetBits(OLED_SCLK_PORT, OLED_SCLK_PIN);
		;
		//GPIO_set(OLED_PORT_GET(OLED_SCLK),OLED_PIN_GET(OLED_SCLK),0);
		GPIO_ResetBits(OLED_SCLK_PORT, OLED_SCLK_PIN);

		uc_data <<= 1;
	}
}

/**
*    @brief   写一个字节命令
*
*    @param   uint8_t uc_cmd
*/
void  oled_write_command(uint8_t uc_cmd)
{
	uint8_t i = 8;
	GPIO_ResetBits(OLED_DC_PORT, OLED_DC_PIN);
	GPIO_ResetBits(OLED_SCLK_PORT, OLED_SCLK_PIN);

	while (i--)
	{
		if (uc_cmd & 0x80)
		{
			//GPIO_set(OLED_PORT_GET(OLED_SDIN),OLED_PIN_GET(OLED_SDIN),1);
			GPIO_SetBits(OLED_SDIN_PORT, OLED_SDIN_PIN);
		}
		else
		{
			//GPIO_set(OLED_PORT_GET(OLED_SDIN),OLED_PIN_GET(OLED_SDIN),0);
			GPIO_ResetBits(OLED_SDIN_PORT, OLED_SDIN_PIN);
		}
		/* 普通I/O口模拟时钟信号 */
		//GPIO_set(OLED_PORT_GET(OLED_SCLK),OLED_PIN_GET(OLED_SCLK),1);
		GPIO_SetBits(OLED_SCLK_PORT, OLED_SCLK_PIN);
		;
		//GPIO_set(OLED_PORT_GET(OLED_SCLK),OLED_PIN_GET(OLED_SCLK),0);
		GPIO_ResetBits(OLED_SCLK_PORT, OLED_SCLK_PIN);
		uc_cmd <<= 1;
	}
	return;
}


/**
*  @ brief   oled_set_pos
*
*  @ param   uc_posx   列
*            uc_posy   页
*
*	@ note    设置坐标
*
*	@ return  none
*/
void oled_set_pos(uint8_t uc_posx, uint8_t uc_posy)
{
	oled_write_command((uint8_t)(0xb0 + uc_posy));
	oled_write_command((uint8_t)(((uc_posx & 0xf0) >> 4) | 0x10));
	oled_write_command((uint8_t)((uc_posx & 0x0f) | 0x00));
}


/**
*  @ brief   SetStartColumn
*
*  @ param   a     起始列地址
*            b     起始行地址
*
*	@ note    对于 page Addressing Mode  设定开始的列
*	          每一页有128列，开始列=16*Highchar Column + Lowchar Column
*
*	@ return  none
*/
void SetStartColumn(uint8_t uc_data)
{
	oled_write_command((uint8_t)(0x00 + uc_data % 16));   // Set Lowchar Column Start Address for Page Addressing Mode
														// Default => 0x00
	oled_write_command((uint8_t)(0x10 + uc_data / 16));   // Set Highchar Column Start Address for Page Addressing Mode
														// Default => 0x10
}

/**
*  @ brief   SetColumnAddress//列
*
*  @ param   a     起始列地址
*            b     起始行地址
*
*	@ note    对于Horizontal Addressing Mode 设置起始列地址与结束列地址
*	          Set Column Address
*	          Default => 0x00 (Column Start Address)
*	          Default => 0x7F (Column End Address)
*
*	@ return  none
*/
void SetColumnAddress(uint8_t a, uint8_t b)
{
	oled_write_command(0x21);        	   // Set Column Address
	oled_write_command(a);           	   // Default => 0x00 (Column Start Address)
	oled_write_command(b);           	   // Default => 0x7F (Column End Address)
}

/**
*  @ brief   SetPageAddress
*
*  @ param   a     起始页地址
*            b     起始页地址
*
*	@ note    对于Vchartical Addressing Mode 设置起始页地址与结束页地址
*	          Set Page Address
*	          Default => 0xB0 (0x00)
*	          Default => 0x07 (Page End Address)
*
*	@ return  none
*/
void SetPageAddress(uint8_t a, uint8_t b)
{
	oled_write_command(0x22);
	oled_write_command(a);
	oled_write_command(b);
}

/*---------------------------------------------------------------------------------------------*
*        函数名：oled_fill(char uc_data)
*        参数  ：uc_data
*        返回值：无
*        功能  ：全屏写入同一个字符uc_data 清屏
*----------------------------------------------------------------------------------------------*/
void MCF_OLED_Fill(char uc_data)
{
	uint8_t uc_page, uc_column;

	for (uc_page = 0; uc_page < 8; uc_page++)
	{
		for (uc_column = 0; uc_column < 128; uc_column++)
		{
			oled_write_data(uc_data);
		}
	}
}

/**
*  @ brief   SetInvcharseDisplay
*
*  @ param   uc_data
*
*	@ note    Set Invcharse Display On/Off
*	          Default => 0xA6
*	          0xA6 (0x00) => Normal Display
*	          0xA7 (0x01) => Invcharse Display On
*
*	@ return  none
*/
void SetInvcharseDisplay(uint8_t uc_data)
{
	oled_write_command((uint8_t)(0xA6 | uc_data));
}

/**
*  @ brief   SetEntireDisplay
*
*  @ param   uc_data
*
*	@ note    Set Entire Display On / Off
*	          Default => 0xA4
*	          0xA4 (0x00) => Normal Display
*	          0xA5 (0x01) => Entire Display On
*
*	@ return  none
*/
void SetEntireDisplay(uint8_t uc_data)
{
	oled_write_command((uint8_t)(0xA4 | uc_data));
}

/**
*  @ brief   SetVCOMH
*
*  @ param   uc_data
*
*	@ note    Set VCOMH Deselect Level
*	          Default => 0x20 (0.77*VCC)
*
*	@ return  none
*/
void SetVCOMH(uint8_t uc_data)
{
	oled_write_command(0xDB);         // Set VCOMH Deselect Level
	oled_write_command(uc_data);      // Default => 0x20 (0.77*VCC)
}

/**
*  @ brief   SetPrechargePchariod
*
*  @ param   uc_data
*
*	@ note    Set Pre-Charge Pchariod
*	          Default => 0x22 (2 Display Clocks [Phase 2] / 2 Display Clocks [Phase 1])
*	          D[3:0] => Phase 1 Pchariod in 1~15 Display Clocks
*	          D[7:4] => Phase 2 Pchariod in 1~15 Display Clocks
*
*	@ return  none
*/
void SetPrechargePchariod(uint8_t uc_data)
{
	oled_write_command(0xD9);
	oled_write_command(uc_data);
}

/**
*  @ brief   SetContrastControl
*
*  @ param   uc_data
*
*	@ note    Set Contrast Control
*	          Default => 0x7F
*
*	@ return  none
*/
void SetContrastControl(uint8_t uc_data)
{
	oled_write_command(0x81);
	oled_write_command(uc_data);
}

/**
*  @ brief   SetCommonConfig
*
*  @ param   uc_data
*
*	@ note    Set COM Pins Hardware Configuration
*	          Default => 0x12 (0x10)
*	          Altcharnative COM Pin Configuration
*	          Disable COM Left/Right Re-Map
*
*	@ return  none
*/
void SetCommonConfig(uint8_t uc_data)
{
	oled_write_command(0xDA);
	oled_write_command((uint8_t)(0x02 | uc_data));
}

/**
*  @ brief   SetCommonRemap
*
*  @ param   uc_data
*
*	@ note    Set COM Output Scan Direction
*	          Default => 0xC0
*	          0xC0 (0x00) => Scan from COM0  to 63
*	          0xC8 (0x08) => Scan from COM63 to 0
*
*	@ return  none
*/
void SetCommonRemap(uint8_t uc_data)
{
	oled_write_command((uint8_t)(0xC0 | uc_data));
}

/**
*  @ brief   SetSegmentRemap
*
*  @ param   uc_data
*
*	@ note    Set Segment Re-Map
*	          Default => 0xA0
*	          0xA0 (0x00) => Column Address 0 Mapped to SEG0
*	          0xA1 (0x01) => Column Address 0 Mapped to SEG127
*
*	@ return  none
*/
void SetSegmentRemap(uint8_t uc_data)
{
	oled_write_command((uint8_t)(0xA0 | uc_data));
}

/**
*  @ brief   SetAddressingMode
*
*  @ param   uc_data
*
*	@ note    Set Memory Addressing Mode
*	          0x00 => Horizontal Addressing Mode
*	          0x01 => Vchartical Addressing Mode
*	          0x02 => Page Addressing Mode
*
*	@ return  none
*/
void SetAddressingMode(uint8_t uc_data)
{
	oled_write_command(0x20);
	oled_write_command(uc_data);
}

/**
*  @ brief   SetChargePump
*
*  @ param   uc_data
*
*	@ note    Set Charge Pump
*	          0x10 (0x00) => Disable Charge Pump
*	          0x14 (0x04) => Enable Charge Pump
*
*	@ return  none
*/
void SetChargePump(uint8_t uc_data)
{
	oled_write_command(0x8D);
	oled_write_command((uint8_t)(0x10 | uc_data));
}

/**
*  @ brief   SetStartLine
*
*  @ param   uc_data
*
*	@ note    Set Display Start Line
*	          Default => 0x40 (0x00)
*
*	@ return  none
*/
void SetStartLine(uint8_t uc_data)
{
	oled_write_command((uint8_t)(0x40 | uc_data));
}

/**
*  @ brief   SetDisplayOffset
*
*  @ param   uc_data
*
*	@ note    Set Display Offset
*	          Default => 0x00
*
*	@ return  none
*/
void SetDisplayOffset(uint8_t uc_data)
{
	oled_write_command(0xD3);
	oled_write_command(uc_data);
}

/**
*  @ brief   SetMultiplexRatio
*
*  @ param   uc_data
*
*	@ note    Set Multiplex Ratio
*	          Default => 0x3F (1/64 Duty)
*
*	@ return  none
*/
void SetMultiplexRatio(uint8_t uc_data)
{
	oled_write_command(0xA8);
	oled_write_command(uc_data);
}

/**
*  @ brief   SetDisplayClock
*
*  @ param   uc_data
*
*	@ note    Set Display Clock Divchare Ratio / Oscillator Frequency
*	          D[3:0] => Display Clock Divcharchar
D[7:4] => Oscillator Frequency
*
*	@ return  none
*/
void SetDisplayClock(uint8_t uc_data)
{
	oled_write_command(0xD5);
	oled_write_command(uc_data);
}

/**
*  @ brief   SetDisplayOnOff
*
*  @ param   uc_data
*
*	@ note    Set Display On/Off
*	          0xAE (0x00) => Display Off  Default
0xAF (0x01) => Display On
*
*	@ return  none
*/
void SetDisplayOnOff(uint8_t uc_data)
{
	oled_write_command((uint8_t)(0xAE | uc_data));
}


/*---------------------------------------------------------------------------------------------*
*        函数名：oled_display_6x8char(uint8_t uc_posx, uint8_t uc_posy, char uc_data)
*        参数  ：显示的横坐标(0~122)，页范围(0～7)，显示的字符
*        返回值：无
*        功能  ：显示一个字符
*----------------------------------------------------------------------------------------------*/
void MCF_OLED_6x8char(uint8_t uc_posx, uint8_t uc_posy, char uc_data)
{
	uint8_t i, uc_dataTmp;

	uc_dataTmp = (uint8_t)(uc_data - 32);
	if (uc_posx > 122)
	{
		uc_posx = 0;
		uc_posy++;
	}

	oled_set_pos(uc_posx, uc_posy);

	for (i = 0; i < 6; i++)
	{
		oled_write_data(F6x8[uc_dataTmp][i]);
	}
}

/*---------------------------------------------------------------------------------------------*
*        函数名：oled_display_6x8str(uint8_t uc_posx, uint8_t uc_posy, char uc_dataStr[])
*        参数  ：显示的横坐标(0~122)，页范围(0～7)，显示的字符
*        返回值：无
*        功能  ：显示一串字符
*----------------------------------------------------------------------------------------------*/
void MCF_OLED_6x8str(uint8_t uc_posx, uint8_t uc_posy, char uc_dataStr[])
{
	uint8_t i, j, uc_dataTmp;

	for (j = 0; uc_dataStr[j] != '\0'; j++)
	{
		uc_dataTmp = (uint8_t)(uc_dataStr[j] - 32);

		if (uc_posx > 122)
		{
			uc_posx = 0;
			uc_posy++;
		}

		oled_set_pos(uc_posx, uc_posy);

		for (i = 0; i < 6; i++)
		{
			oled_write_data(F6x8[uc_dataTmp][i]);
		}

		uc_posx += 6;
	}

	return;
}


/*---------------------------------------------------------------------------------------------*
*        函数名：oled_print_char(uint8_t uc_posx, uint8_t uc_posy, char c_data)
*        参数  ：显示的横坐标(0~122)，页范围(0～7)，需要转化显示的数值(-128~127)
*        返回值：无
*        功能  ：将一个char型数转换成3位数进行显示
*----------------------------------------------------------------------------------------------*/
void MCF_OLED_char(uint8_t uc_posx, uint8_t uc_posy, int8_t c_data)
{
	uint16_t i, j, k, us_data;

	if (c_data < 0)
	{
		MCF_OLED_6x8char(uc_posx, uc_posy, '-');
		us_data = (uint16_t)(-c_data);
	}
	else
	{
		MCF_OLED_6x8char(uc_posx, uc_posy, '+');
		us_data = (uint16_t)c_data;
	}

	//c_data = (char)Limiter(c_data, -128, 127);//限幅，避免液晶挂机

	i = (uint8_t)(us_data / 100);
	j = (uint8_t)((us_data % 100) / 10);
	k = (uint8_t)(us_data % 10);

	MCF_OLED_6x8char((uint8_t)(uc_posx + 6), (uint8_t)(uc_posy), (char)(i + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 12), (uint8_t)(uc_posy), (char)(j + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 18), (uint8_t)(uc_posy), (char)(k + 48));

	return;
}

void MCF_OLED_uint8_t(uint8_t uc_posx, uint8_t uc_posy, uint8_t c_data)
{
	uint16_t i, j, k;

	i = (uint8_t)(c_data / 100);
	j = (uint8_t)((c_data % 100) / 10);
	k = (uint8_t)(c_data % 10);

	MCF_OLED_6x8char((uint8_t)uc_posx, (uint8_t)(uc_posy), (char)(i + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 6), (uint8_t)(uc_posy), (char)(j + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 12), (uint8_t)(uc_posy), (char)(k + 48));

	return;
}

/*---------------------------------------------------------------------------------------------*
*        函数名：MCF_OLED_short(uint8_t uc_posx, uint8_t uc_posy, int16 s_data)
*        参数  ：显示的横坐标(0~122)，页范围(0～7)，需要转化显示的数值
*        返回值：无
*        功能  ：将一个int16型数转换成5位数进行显示
*----------------------------------------------------------------------------------------------*/
void MCF_OLED_short(uint8_t uc_posx, uint8_t uc_posy, int16_t s_data)
{
	uint16_t i, j, k, l, m, us_data;

	if (s_data < 0)
	{
		MCF_OLED_6x8char(uc_posx, uc_posy, '-');
		us_data = (uint16_t)(-s_data);
	}
	else
	{
		MCF_OLED_6x8char(uc_posx, uc_posy, '+');
		us_data = (uint16_t)s_data;
	}

	s_data = (int16_t)Limiter(s_data, -50000, 50000);//限幅，避免液晶挂机

	l = (uint8_t)(us_data / 10000);
	m = (uint8_t)((us_data % 10000) / 1000);
	i = (uint8_t)((us_data % 1000) / 100);
	j = (uint8_t)((us_data % 100) / 10);
	k = (uint8_t)(us_data % 10);

	MCF_OLED_6x8char((uint8_t)(uc_posx + 6), (uint8_t)(uc_posy), (char)(l + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 12), (uint8_t)(uc_posy), (char)(m + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 18), (uint8_t)(uc_posy), (char)(i + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 24), (uint8_t)(uc_posy), (char)(j + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 30), (uint8_t)(uc_posy), (char)(k + 48));

	//return;
}


/*---------------------------------------------------------------------------------------------*
*        函数名：oled_init(void)
*        参数  ：无
*        返回值：无
*        功能  ：LED初始化
*----------------------------------------------------------------------------------------------*/
void  MCF_OLED_Init(void)
{
	uint8_t i = 0;

	/* 初始化引脚  */
	oled_pin_init();

	for (i = 0; i<100; i++)
	{
		;            // 从上电到下面开始初始化要有足够的时间，即等待RC复位完毕
	}
	GPIO_SetBits(OLED_RST_PORT, OLED_RST_PIN);
	SetDisplayOnOff(0x00);     // Display Off (0x00/0x01)
	SetDisplayClock(0x80);     // Set Clock as 100 Frames/Sec
	SetMultiplexRatio(0x3F);   // 1/64 Duty (0x0F~0x3F)
	SetDisplayOffset(0x00);    // Shift Mapping RAM Countchar (0x00~0x3F)
	SetStartLine(0x00);        // Set Mapping RAM Display Start Line (0x00~0x3F)
	SetChargePump(0x04);       // Enable Embedded DC/DC Convchartchar (0x00/0x04)
	SetAddressingMode(0x00);   // Set Horizontal Addressing Mode (0x00/0x01/0x02)
	SetSegmentRemap(0x01);     // Set SEG/Column Mapping     0x00左右反置 0x01正常
	SetCommonRemap(0x08);      // Set COM/Row Scan Direction 0x00上下反置 0x08正常
	SetCommonConfig(0x10);     // Set Sequential Configuration (0x00/0x10)
	SetContrastControl(0xCF);  // Set SEG Output Current
	SetPrechargePchariod(0xF1);  // Set Pre-Charge as 15 Clocks & Discharge as 1 Clock
	SetVCOMH(0x40);            // Set VCOM Deselect Level
	SetEntireDisplay(0x00);    // Disable Entire Display On (0x00/0x01)
	SetInvcharseDisplay(0x00);   // Disable Invcharse Display On (0x00/0x01)
	SetDisplayOnOff(0x01);     // Display On (0x00/0x01)
	MCF_OLED_Fill(0x00);           // 初始清屏
	oled_set_pos(0, 0);
}

/**
*  @ brief   oled_gap
*
*  @ param   none
*
*	@ note    display gap between dates
*
*	@ return  none
*/
void  oled_gap(void)
{
	MCF_OLED_6x8char(63, 0, '-');
	MCF_OLED_6x8char(63, 2, '-');
	MCF_OLED_6x8char(63, 4, '-');
	MCF_OLED_6x8char(63, 6, '-');
}

/**
*  @ brief   oled_twink
*
*  @ param   none
*
*	@ note    twink, to remind us the oled is working
*
*	@ return  none
*/
void  oled_twink(void)
{
	static int8_t s_num = 0;
	static int16_t s_countchar = 0;

	if (s_countchar >= 1) //TWINK_PERIOD)
	{
		s_countchar = 0;
		if (s_num >= 3)
		{
			while (s_num >= 0)
			{
				MCF_OLED_6x8char((uint8_t)(99 + s_num * 6), (uint8_t)7, (char)32);
				s_num--;
			}
			s_num = 0;
		}
		MCF_OLED_6x8char((uint8_t)(99 + s_num * 6), (uint8_t)7, (char)'.');
		s_num++;
	}
	s_countchar++;
}

/**
*  @ brief   oled_clear
*
*  @ param   none
*
*	@ note    clear some space
*
*	@ return  none
*/
void  oled_clear(uint8_t start_x, uint8_t page, uint8_t clear_size)
{
	uint8_t loop_i = 0;
	for (loop_i = 0; loop_i < clear_size; loop_i++)
	{
		MCF_OLED_6x8char((uint8_t)(start_x + loop_i * 6), (uint8_t)page, (char)32);
	}
}



void  oled_one_group(uint8_t my_x, uint8_t my_y, uint16_t my_data)
{
	uint8_t  i = 0;
	uint8_t  j = 0;
	uint8_t  k = 0;
	uint16_t data = my_data;
	uint8_t  uc_posx = 0;
	uint8_t  uc_posy = 0;

	data = my_data;

	i = (uint8_t)((data % 1000) / 100);
	j = (uint8_t)((data % 100) / 10);
	k = (uint8_t)(data % 10);

	switch (my_x)
	{
	case 0: uc_posx = 6;   break;
	case 1: uc_posx = 36;  break;
	case 2: uc_posx = 78;  break;
	case 3: uc_posx = 108; break;
	default: uc_posx = 0;   break;
	}

	uc_posy = (uint8_t)(2 * my_y);

	MCF_OLED_6x8char(uc_posx, uc_posy, 32);
	MCF_OLED_6x8char((uint8_t)(uc_posx + 6), (uint8_t)uc_posy, (char)32);
	MCF_OLED_6x8char((uint8_t)(uc_posx + 12), (uint8_t)uc_posy, (char)32);

	if (i != 0)
	{
		MCF_OLED_6x8char(uc_posx, uc_posy, (char)(i + 48));
		MCF_OLED_6x8char((uint8_t)(uc_posx + 6), uc_posy, (char)(j + 48));
		MCF_OLED_6x8char((uint8_t)(uc_posx + 12), uc_posy, (char)(k + 48));
	}
	else if ((i == 0) && (j != 0))
	{
		MCF_OLED_6x8char((uint8_t)(uc_posx + 6), uc_posy, (char)(j + 48));
		MCF_OLED_6x8char((uint8_t)(uc_posx + 12), uc_posy, (char)(k + 48));
	}
	else if ((i == 0) && (j == 0))
	{
		MCF_OLED_6x8char((uint8_t)(uc_posx + 12), uc_posy, (char)(k + 48));
	}
}

/*------------------------------------------------------------------
*Function Name:     oled_my_show
*Parameter(s):      uint8_t my_x, uint8_t my_y, int16 mydata
*Return:            None
*Description:       将一行分为4个位置，x范围0~3，y范围0~7
-----------------------------------------------------------------*/
void oled_my_show(uint8_t my_x, uint8_t my_y, int16_t mydata)
{
	uint16_t i, j, k, us_data;
	uint8_t  uc_posx = 0;
	uint8_t  uc_posy = 0;

	switch (my_x)
	{
	case 0: uc_posx = 0;   break;
	case 1: uc_posx = 36;  break;
	case 2: uc_posx = 72;  break;
	case 3: uc_posx = 102; break;
	default: uc_posx = 0;   break;
	}

	uc_posy = my_y;

	if (uc_posy > 7)
		uc_posy = 7;

	if (mydata < 0)
	{
		MCF_OLED_6x8char(uc_posx, uc_posy, '-');
		us_data = (uint16_t)(-mydata);
	}
	else
	{
		MCF_OLED_6x8char(uc_posx, uc_posy, '+');
		us_data = (uint16_t)mydata;
	}


	i = (uint16_t)((us_data % 1000) / 100);
	j = (uint16_t)((us_data % 100) / 10);
	k = (uint16_t)(us_data % 10);

	MCF_OLED_6x8char((uint8_t)(uc_posx + 6), uc_posy, (char)(i + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 12), uc_posy, (char)(j + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 18), uc_posy, (char)(k + 48));

	return;
}


void MCF_OLED_6x8char_hl(uint8_t uc_posx, uint8_t uc_posy, char uc_data)
{
	uint8_t i, uc_dataTmp;

	uc_dataTmp = (uint8_t)(uc_data - 32);
	if (uc_posx > 122)
	{
		uc_posx = 0;
		uc_posy++;
	}

	oled_set_pos(uc_posx, uc_posy);

	for (i = 0; i < 6; i++)
	{
		oled_write_data((uint8_t)(~F6x8[uc_dataTmp][i]));
	}
}


void MCF_OLED_6x8str_hl(uint8_t uc_posx, uint8_t uc_posy, char uc_dataStr[])
{
	uint8_t i, j, uc_dataTmp;

	for (j = 0; uc_dataStr[j] != '\0'; j++)
	{
		uc_dataTmp = (uint8_t)(uc_dataStr[j] - 32);

		if (uc_posx > 122)
		{
			uc_posx = 0;
			uc_posy++;
		}

		oled_set_pos(uc_posx, uc_posy);

		for (i = 0; i < 6; i++)
		{
			oled_write_data((uint8_t)(~F6x8[uc_dataTmp][i]));
		}

		uc_posx += 6;
	}

	return;
}

void MCF_OLED_char_hl(uint8_t uc_posx, uint8_t uc_posy, int8_t c_data)
{
	uint16_t i, j, k, us_data;

	if (c_data < 0)
	{
		MCF_OLED_6x8char_hl(uc_posx, uc_posy, '-');
		us_data = (uint16_t)(-c_data);
	}
	else
	{
		MCF_OLED_6x8char_hl(uc_posx, uc_posy, '+');
		us_data = (uint16_t)c_data;
	}

	i = (uint16_t)(us_data / 100);
	j = (uint8_t)((us_data % 100) / 10);
	k = (uint8_t)(us_data % 10);

	MCF_OLED_6x8char_hl((uint8_t)(uc_posx + 6), uc_posy, (char)(i + 48));
	MCF_OLED_6x8char_hl((uint8_t)(uc_posx + 12), uc_posy, (char)(j + 48));
	MCF_OLED_6x8char_hl((uint8_t)(uc_posx + 18), uc_posy, (char)(k + 48));

	return;
}

void oled_display_16x8char(uint8_t uc_posx, uint8_t uc_posy, char uc_data)
{
	uint8_t i, uc_dataTmp;

	uc_dataTmp = uc_data;
	if (uc_posx > 122)
	{
		uc_posx = 0;
		uc_posy++;
	}

	oled_set_pos(uc_posx, uc_posy);

	for (i = 0; i < 8; i++)
	{
		oled_write_data(OLED_ASCII16X8[uc_dataTmp][i]);
	}

	oled_set_pos(uc_posx, (uint8_t)(uc_posy + 1));

	for (i = 8; i < 16; i++)
	{
		oled_write_data(OLED_ASCII16X8[uc_dataTmp][i]);
	}
}


void oled_display_16x8str(uint8_t uc_posx, uint8_t uc_posy, char uc_dataStr[])
{
	uint8_t i, j, uc_dataTmp;

	for (j = 0; uc_dataStr[j] != '\0'; j++)
	{
		uc_dataTmp = uc_dataStr[j];

		if (uc_posx > 120)
		{
			uc_posx = 0;
			uc_posy += 2;
		}

		oled_set_pos(uc_posx, uc_posy);

		for (i = 0; i < 8; i++)
		{
			oled_write_data(OLED_ASCII16X8[uc_dataTmp][i]);
		}

		oled_set_pos(uc_posx, (uint8_t)(uc_posy + 1));

		for (i = 8; i < 16; i++)
		{
			oled_write_data(OLED_ASCII16X8[uc_dataTmp][i]);
		}

		uc_posx += 8;
	}
	return;
}

void oled_display_16x8str_hl(uint8_t uc_posx, uint8_t uc_posy, char uc_dataStr[])
{
	uint8_t i, j, uc_dataTmp;

	for (j = 0; uc_dataStr[j] != '\0'; j++)
	{
		uc_dataTmp = uc_dataStr[j];

		if (uc_posx > 120)
		{
			uc_posx = 0;
			uc_posy += 2;
		}

		oled_set_pos(uc_posx, uc_posy);

		for (i = 0; i < 8; i++)
		{
			oled_write_data((uint8_t)(~OLED_ASCII16X8[uc_dataTmp][i]));
		}

		oled_set_pos(uc_posx, (uint8_t)(uc_posy + 1));

		for (i = 8; i < 16; i++)
		{
			oled_write_data((uint8_t)(~OLED_ASCII16X8[uc_dataTmp][i]));
		}

		uc_posx += 8;
	}

	return;
}


void oled_print_16x8char(uint8_t uc_posx, uint8_t uc_posy, int8_t c_data)
{
	uint16_t i, j, k, us_data;

	if (c_data < 0)
	{
		oled_display_16x8char(uc_posx, uc_posy, '-');
		us_data = (uint16_t)(-c_data);
	}
	else
	{
		oled_display_16x8char(uc_posx, uc_posy, '+');
		us_data = (uint16_t)c_data;
	}

	i = (uint16_t)(us_data / 100);
	j = (uint16_t)((us_data % 100) / 10);
	k = (uint16_t)(us_data % 10);

	oled_display_16x8char((uint8_t)(uc_posx + 8), uc_posy, (char)(i + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 16), uc_posy, (char)(j + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 24), uc_posy, (char)(k + 48));

	return;
}

void oled_display_16x8char_hl(uint8_t uc_posx, uint8_t uc_posy, char uc_data)
{
	uint8_t i, uc_dataTmp;

	uc_dataTmp = uc_data;
	if (uc_posx > 122)
	{
		uc_posx = 0;
		uc_posy++;
	}

	oled_set_pos(uc_posx, uc_posy);

	for (i = 0; i < 8; i++)
	{
		oled_write_data((uint8_t)(~OLED_ASCII16X8[uc_dataTmp][i]));
	}

	oled_set_pos(uc_posx, (uint8_t)(uc_posy + 1));

	for (i = 8; i < 16; i++)
	{
		oled_write_data((uint8_t)(~OLED_ASCII16X8[uc_dataTmp][i]));
	}
}

void oled_print_16x8short(uint8_t uc_posx, uint8_t uc_posy, int16_t s_data)
{
	uint16_t i, j, k, l, m, us_data;

	if (s_data < 0)
	{
		oled_display_16x8char(uc_posx, uc_posy, '-');
		us_data = (uint16_t)(-s_data);
	}
	else
	{
		oled_display_16x8char(uc_posx, uc_posy, '+');
		us_data = (uint16_t)s_data;
	}

	l = (uint16_t)(us_data / 10000);
	m = (uint16_t)((us_data % 10000) / 1000);
	i = (uint16_t)((us_data % 1000) / 100);
	j = (uint16_t)((us_data % 100) / 10);
	k = (uint16_t)(us_data % 10);

	oled_display_16x8char((uint8_t)(uc_posx + 8), uc_posy, (int8_t)(l + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 16), uc_posy, (int8_t)(m + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 24), uc_posy, (int8_t)(i + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 32), uc_posy, (int8_t)(j + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 40), uc_posy, (int8_t)(k + 48));

	return;
}

void oled_print_16x8short_hl(uint8_t uc_posx, uint8_t uc_posy, int16_t s_data, int8_t bits_num)
{
	uint16_t i, j, k, l, m, us_data;

	if (s_data < 0)
	{
		oled_display_16x8char(uc_posx, uc_posy, '-');
		us_data = (uint16_t)(-s_data);
	}
	else
	{
		oled_display_16x8char(uc_posx, uc_posy, '+');
		us_data = (uint16_t)s_data;
	}

	l = (uint16_t)(us_data / 10000);
	m = (uint16_t)((us_data % 10000) / 1000);
	i = (uint16_t)((us_data % 1000) / 100);
	j = (uint16_t)((us_data % 100) / 10);
	k = (uint16_t)(us_data % 10);

	oled_display_16x8char((uint8_t)(uc_posx + 8), uc_posy, (int8_t)(l + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 16), uc_posy, (int8_t)(m + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 24), uc_posy, (int8_t)(i + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 32), uc_posy, (int8_t)(j + 48));
	oled_display_16x8char((uint8_t)(uc_posx + 40), uc_posy, (int8_t)(k + 48));

	switch (bits_num)
	{
	case 1: oled_display_16x8char_hl((uint8_t)(uc_posx + 8), uc_posy, (int8_t)(l + 48));
		break;
	case 2: oled_display_16x8char_hl((uint8_t)(uc_posx + 16), uc_posy, (int8_t)(m + 48));
		break;
	case 3: oled_display_16x8char_hl((uint8_t)(uc_posx + 24), uc_posy, (int8_t)(i + 48));
		break;
	case 4: oled_display_16x8char_hl((uint8_t)(uc_posx + 32), uc_posy, (int8_t)(j + 48));
		break;
	case 5: oled_display_16x8char_hl((uint8_t)(uc_posx + 40), uc_posy, (int8_t)(k + 48));
		break;
	default: break;
	}

	return;
}

/* 在液晶上以3位显示0~999的数值 */
void oled_print_3_short(uint8_t uc_posx, uint8_t uc_posy, int16_t s_data)
{
	uint16_t i, j, k, us_data;
	if (s_data < 0)
	{
		MCF_OLED_6x8char(uc_posx, uc_posy, '!');
		MCF_OLED_6x8char((uint8_t)(uc_posx + 6), uc_posy, '!');
		MCF_OLED_6x8char((uint8_t)(uc_posx + 12), uc_posy, '!');
		return;
	}
	else
	{
		us_data = (uint16_t)s_data;
	}

	i = (uint16_t)((us_data % 1000) / 100);
	j = (uint16_t)((us_data % 100) / 10);
	k = (uint16_t)(us_data % 10);

	MCF_OLED_6x8char(uc_posx, uc_posy, (char)(i + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 6), uc_posy, (char)(j + 48));
	MCF_OLED_6x8char((uint8_t)(uc_posx + 12), uc_posy, (char)(k + 48));
}

void oled_print_image(volatile uint8_t usPicture[][IMAGE_NUM], uint16_t usRowNum, uint16_t usColumnNum)//未用
{
	uint8_t i = 0;
	uint16_t j = 0;
	uint8_t k = 0;
	uint8_t temp_data = 0;
	uint8_t usRowTemp = 0;

	oled_set_pos(0, 0);                      // 0页，0列
	k = (uint8_t)(usRowNum >> 3);             // 计算图片行数以8位为一组完整的组数，即页数

	for (i = 0; i < k; i++)
	{
		usRowTemp = (uint8_t)((i << 3));             // 行下标，从第0行开始（用它则没有出现一块亮条）
												   //usRowTemp = ((i<<3) + 8 );          // 行下标，从第8行开始
		for (j = 0; j < usColumnNum; j++)
		{
			temp_data = (uint8_t)((usPicture[usRowTemp + 7][j] << 7) | (usPicture[usRowTemp + 6][j] << 6) | (usPicture[usRowTemp + 5][j] << 5) | (usPicture[usRowTemp + 4][j] << 4)
				| (usPicture[usRowTemp + 3][j] << 3) | (usPicture[usRowTemp + 2][j] << 2) | (usPicture[usRowTemp + 1][j] << 1) | usPicture[usRowTemp][j]);

			oled_write_data(temp_data);
		}
	}
	return;
}

long Limiter(long s_data, long min, long max)
{
	if (s_data <= min)
	{
		s_data = min;
	}
	else if (s_data >= max)
	{
		s_data = max;
	}
	return s_data;
}
